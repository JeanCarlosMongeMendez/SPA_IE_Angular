<div class="container">

    <h2>Students List</h2>

    <kendo-grid [kendoGridBinding]="gridData" [filterable]="true" [groupable]="true" [sortable]="true" 
        [resizable]="true" 
        [pageable]="true">
        <ng-template kendoGridToolbarTemplate>
            <button kendoButton [look]="'outline'" [icon]="'add'" (click)="router.navigate(['/student-add']);">Add new</button>
        </ng-template>
        <kendo-grid-column field="username" title="Name" [width]="100"></kendo-grid-column>
        <kendo-grid-column field="identificationCard" title="Identification Card" [width]="100"></kendo-grid-column>
        <kendo-grid-column field="email" title="Email" [width]="150"></kendo-grid-column>
        <kendo-grid-column field="nameProvince" title="Province" [width]="100"></kendo-grid-column>
        <kendo-grid-command-column title="Actions" [width]="300">
            <ng-template *ngIf="action == 'APPROVED'" kendoGridCellTemplate let-dataItem="dataItem">
                <button kendoButton [look]="'flat'" [icon]="'table-align-middle-center'" (click)="router.navigate(['/student-detail', dataItem.idUserProfile]);">Detail</button>
                <button kendoButton [look]="'flat'" [icon]="'edit'" (click)="router.navigate(['/student-update', dataItem.idUserProfile]);">Edit</button>
                <button kendoButton [look]="'flat'" [icon]="'delete'" (click)="delete(dataItem.idUserProfile)">Delete</button>
            </ng-template>
            <ng-template *ngIf="action == 'DISAPPROVED'" kendoGridCellTemplate let-dataItem="dataItem">
                <button kendoButton [look]="'flat'" [icon]="'check'" (click)="approve(dataItem.idUserProfile)">Approve</button>
                <button kendoButton [look]="'flat'" [icon]="'close'" (click)="reject(dataItem.idUserProfile)">Reject</button>
            </ng-template>
        </kendo-grid-command-column>
    </kendo-grid>
</div>

<kendo-dialog title="Please confirm" *ngIf="opened" (close)="close('cancel')" [minWidth]="250" [width]="450">
    <p style="margin: 30px; text-align: center;">Are you sure you want to delete {{studentDelete.username}}?</p>
    <kendo-dialog-actions>
        <button kendoButton (click)="close('no')">No</button>
        <button kendoButton (click)="close('yes')" primary="true">Yes</button>
    </kendo-dialog-actions>
</kendo-dialog>